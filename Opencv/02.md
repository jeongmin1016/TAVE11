# chap4 에지와 영역

#### 에지 
물체 경계에 위치한 점 
- 에지 검출 : 에지에 해당 화소 찾기
- 에지 향상 : 에지 더 잘보이도록 하기 위해 에지와 배경 간의 대비 증가
- 에지 추적 : 에지 따라가기

- 에지를 완벽하게 검출해 물체의 경계를 폐곡선으로 따낼 수 있다면 분할 문제 해결
- 특성이 크게 다른 화소에 집중하는 방식

-> 물체의 위치 모양 크기 에 대한 정보 찾기 가능

#### 영역
특성이 비슷한 화소를 묶는 방식


에지 검출 알고리즘 : 물체 내부는 명암이 서서히 변하고 경계는 급격히 변하는 특성 활용

### 4.1.1 영상의 미분
미분 : 변수의 x 값이 미세하게 증가했을 때 함수 변화량 측정, 에지 추출 방법

* 영상을 (x, y) 변수의 함수로 간주했을 때, 이 함수의 1차 미분(1st derivative) 값이 크게 나타나는 부분을 검출

디지털 영상 미분
- 미분은 기본적으로 연속적인 공간에서 적용, but 영상은 연속공간이 아닌 이산 공간이기에 근사화한 것으로 적용
- 영상 f에 미분 적용해 f' -> 영상에서 가장 작은 단위가 1이며 (-1,1)로 컨볼루션
- 필터 u(에지 연산자)로 컨볼루션하여 구현
- 명암을 미분해 튀어나온 부분이 에지

### 4.1.2 에지 연산자
- 명암 변화 x = 0
- 명암 변화 o = 3

컨볼루션의 값은 f 원래 영상의 부호를 의미한다 !?

물체 경계를 지나면서 명암값이 커지면 미분값 양수, 작아지면 음수


램프에지 : 계단 모양이 아닌, 명암이 몇화소에 걸쳐 변화, 정확한 에지의 위치 찾기 어려움

---- 에지 검출 과정 --- 
두꺼운 에지에서 위치 찾기 적용

1차미분 : 원래 영상의 변화량이 1차 미분값 
에지 발생여부와 에지가 어떤 방향을 향하는지 알 수 있음
봉우리 찾기

2차미분 : 1차 미분값의 변화량이 2차 미분값
영교차 찾기 

![image](https://user-images.githubusercontent.com/109460178/227122703-6325016c-3126-446e-86b0-d14d2499b2ee.png)
-	봉우리 : 봉우리의  두께가 1이므로 계단 에지만 존재하는 경우 에지 찾기 간단
-	영교차 : 왼쪽과 오른쪽에 부호가 다른 반응 발생, 자신은 0을 갖는 위치

#### 1차 미분에 기반한 에지 연산자
미분에 기반한 2차원 에지 연산자는 크기 확장시 잡음을 흠수해 더 좋은 성능 보임
-> 잡음으로 인해 스무딩이 필요해 2차원 연산저 적용

- 프로윗 
   장점 : 돌출된 값을 잘 평균화
   단점 : 값이 일렬로 나열되어 있어 대각선보다 수평 수직에 놓인 에지에 민감

- 소벨 
    장점: 돌출된 값 잘 평균화, 모든 방향 에지 검출 가능, 잡음에 강함
    단점 : 대각선 방향에 놓인 에지 민감


